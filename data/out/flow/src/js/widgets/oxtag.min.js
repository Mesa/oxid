!function(a){oxTag={highTag:function(){var b=a(this);return a("p.tagError").hide(),oxAjax.ajax(a("#tagsForm"),{targetEl:a("#tags"),additionalData:{highTags:b.prev().text(),blAjax:"1"},onSuccess:function(a,c){b.prev().addClass("taggedText"),b.hide()}}),!1},saveTag:function(){return a("p.tagError").hide(),oxAjax.ajax(a("#tagsForm"),{targetEl:a("#tags"),additionalData:{blAjax:"1"},onSuccess:function(b,c){if(b=JSON.parse(b),b.tags.length>0&&a(".tagCloud").append("<span class='taggedText'>, "+b.tags+"</span> "),b.invalid.length>0){var d=a("p.tagError.invalid").show();a("span",d).text(b.invalid)}if(b.inlist.length>0){var d=a("p.tagError.inlist").show();a("span",d).text(b.inlist)}}}),!1},cancelTag:function(){return oxAjax.ajax(a("#tagsForm"),{targetEl:a("#tags"),additionalData:{blAjax:"1",fnc:"cancelTags"},onSuccess:function(b,c){b&&(a("#tags").html(b),a("#tags #editTag").click(oxTag.editTag))}}),!1},editTag:function(){return oxAjax.ajax(a("#tagsForm"),{targetEl:a("#tags"),additionalData:{blAjax:"1"},onSuccess:function(b,c){b&&(a("#tags").html(b),a("#tags .tagText").click(oxTag.highTag),a("#tags #saveTag").click(oxTag.saveTag),a("#tags #cancelTag").click(oxTag.cancelTag))}}),!1}},a.widget("ui.oxTag",oxTag)}(jQuery);